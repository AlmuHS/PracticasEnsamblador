.MODEL SMALL

.DATA

	CADENA DB 1,1,1,1
	PESO DB 8,4,2,1
	BINARIO_NAT DB 0; Valor en binario natural
	COMP_1 DB 0
	COMP_2 DB 0
	EXCESO DB 0

		

.CODE

	MOV AX, SEG CADENA
  	MOV DS, AX

	MOV BX, 0
	MOV SI, 3

	;Binario natural
	BUCLE:
		MOV AL, CADENA[SI]
		MUL PESO[SI]
		ADD BX, AX

		DEC SI; Incrementamos registro SI
		CMP SI, 1; Comparar SI con 0
	JB BUCLE; Salir si SI < 1
		
	MOV BINARIO_NAT, BL

	;Complemento a 2
	MOV CX, 0
	MOV SI, 2	
	
	BUCLE1:
		MOV AL, CADENA[SI]
		MUL PESO[SI]
		ADD CX, AX
		DEC SI
	J
	SUB CL, 8
	
	MOV COMP_2, CL
	
	;Complemento a 1
	MOV CX, 0
	MOV SI, 0
	
	;MOV COMP_2, DL;Usamos el resultado del complemento a 2
	;DEC DL;Decrementamos para obtener C-1
	JMP BUCLE1
	SUB CL, 7
	
	MOV COMP_1, CL
	
	
	;Exceso 2^(n-1)
	MOV BX, 0
	MOV SI, 3
	
	;MOV BX, BINARIO_NAT; Usamos el resultado en binario natural
	JMP BUCLE;Aplicamos la formula del binario natural
	
	ADD BX, 8;Sumamos el exceso al resultado en binario natural
	MOV EXCESO, BX
	
	MOV AH, 4Ch
	INT 21h

END
